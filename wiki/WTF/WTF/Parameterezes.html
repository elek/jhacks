<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>JHacks</title>

    <link rel="stylesheet" href="../../../stylesheets/styles.css">
    <script src="../../../javascripts/scale.fix.js"></script>
       <link rel="stylesheet" href="../../../styles/idea.css"></link>
   <script src="../../../js/highlight.pack.js"></script>
   <script>hljs.initHighlightingOnLoad();</script>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- 3 -->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">JHacks</h1>
        <p class="header">#java #wiki #hu [ARCHIVE_ONLY!]</p>

        <ul>
          <li class="download"><a class="buttons" href="../../../index.html">Mi ez?</a></li>
          <li class="download"><a class="buttons" href="../../../List.html">Oldalindex</a></li>
        </ul>

        <p class="header">This archive is hosted on <a class="header name" href="https://github.com/elek/jhacks">github</a></p>


      </header>
      <section>
	<h1>WTF/Parameterezes</h1>
<p>Elso pelda egy php fejleszto munkajat dicseri. Nyilvan hallott arrol, hogy a sok parameter egy fuggvenyben rossz dolog, ezert az osszes parametert egy stringbe gyomoszoli bele, amit a fuggvenyen belul szetrobbant, es azokkal dolgozik tovabb:</p>
<pre><code>function fn($args = '') {
	$args = parse_args($args);

	isset($args['order']) ? $order=$args['order'] : $order = 'time';
	isset($args['sort']) ? $sort=$args['sort'] : $sort = 'DESC';
	isset($args['thecat']) ? $thecat=$args['thecat'] : $thecat = 'all';
	...
}
</code></pre><p>A kovetkezo ket kod (immaron javaban) alkotoja viszont nem hallott arrol, hogy a tul sok parameter nem feltetlen szerencses (kulon felhivnam a fuggveny roppant frappans nevere).</p>
<pre><code>public Vector<OrderEntry2> getOrders2(String user, String[] accountGroups, String supplier, String date, String date2, int hour, int hour2, String udate, String udate2, String deliv, String orderId, int closingType, String payMode, String remark, String billName, String delivName, String sdate, String sdate2, String status, String limit, Integer top100, int hpayedFilter, boolean allItemsOnStock, boolean onlyAdminOrders, String closingts) {
</code></pre><p>Termeszetesen a parameterek egy resze opcionalis, ami - ugyancsak termeszetesen - sehol nincsen leirva. Ha kivancsi vagy ra, akkor csak vegig kell bogaraszni a par oldalnyi kodot (ami egy sql-t kolbaszol ossze).</p><p>A kovetkezo kis kodocska egy alaposan atgondolt konstruktort mutat be:</p>
<pre><code>public OrderHead(int orderId, String userId, boolean isRetail, Integer courierId, OrderType orderType, String transid,
			String currency, double currencyRate, int payMethod, String delivery, double deliveryCost, double deliveryDisc, boolean billRequired, String billName,
			Integer billCountryId, String billZip, String billCity, String billStreet, String billVatNumber, String name, int countryId, String zip, String building, String city,
			String street, String phone, String cellular, String email,String courierRemark, String remarks, double finaltotal, Date orderDate, Date undertakenDate, boolean isfaked, String domain,boolean allItemsOnStock,
			List<OrderDevalueInformation> odInfo, boolean adminOrder,String adminRemark, Integer affiliateId) {
</code></pre><p>Megfigyelheto, hogy mindenfele cim adatokat is megkap parameterben. Gyakorlatilag az egy objektum, de ahelyett, hogy a komplett objektumot adna at, inkabb minden mezot kulon (biztos azert, hogy csokkenjen a fuggoseg).</p>


      </section>
      <footer>
        
        <p><small>Last change: 2008-11-02</small></p>
        
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
